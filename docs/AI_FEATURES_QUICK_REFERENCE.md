# AIæ™ºèƒ½æ—¥å¿—åˆ†æ - å¿«é€Ÿå‚è€ƒ

## ğŸ¯ ä¸€å¥è¯åŠŸèƒ½è¯´æ˜

è®©AIèƒ½å¤Ÿ**æ ¹æ®é—®é¢˜ç±»å‹æ™ºèƒ½æå–ä¸Šä¸‹æ–‡**,**åˆ©ç”¨ç´¢å¼•å…³è”ç›¸å…³æ—¥å¿—**,**ä¸€é”®è·³è½¬å®šä½**,**ç¼“å­˜ç»“æœé¿å…é‡å¤åˆ†æ**ã€‚

---

## âš¡ 3æ­¥å¿«é€Ÿä¸Šæ‰‹

```
1ï¸âƒ£ å³é”®æ—¥å¿— â†’ "ğŸ¤– AIåˆ†ææ­¤æ—¥å¿—"
2ï¸âƒ£ ç­‰å¾…AIæ™ºèƒ½åˆ†æ (è‡ªåŠ¨æå–æœ€ä¼˜ä¸Šä¸‹æ–‡)
3ï¸âƒ£ ç‚¹å‡»ç»“æœä¸­çš„è¡Œå· â†’ è‡ªåŠ¨è·³è½¬ç›¸å…³æ—¥å¿—
```

---

## ğŸ“‹ åŠŸèƒ½é€ŸæŸ¥è¡¨

| åŠŸèƒ½ | å¿«æ·æ“ä½œ | æ•ˆæœ |
|-----|---------|------|
| **æ™ºèƒ½åˆ†æ** | å³é”® â†’ ğŸ¤– AIåˆ†æ | æ ¹æ®é—®é¢˜ç±»å‹è°ƒæ•´ä¸Šä¸‹æ–‡ |
| **é”™è¯¯è¯Šæ–­** | å³é”® â†’ ğŸ¤– AIè§£é‡Šé”™è¯¯ | ä¸“æ³¨é”™è¯¯åŸå› å’Œè§£å†³æ–¹æ¡ˆ |
| **å…³è”æœç´¢** | å³é”® â†’ ğŸ¤– AIæŸ¥æ‰¾ç›¸å…³ | åˆ©ç”¨ç´¢å¼•æ‰¾æ‰€æœ‰ç›¸å…³æ—¥å¿— |
| **è·³è½¬å¯¼èˆª** | ç‚¹å‡»AIç»“æœä¸­çš„è¡Œå· | è‡ªåŠ¨æ»šåŠ¨åˆ°å¯¹åº”æ—¥å¿— |
| **ç¼“å­˜åŠ é€Ÿ** | åˆ†æç›¸åŒæ—¥å¿— | ç§’çº§è¿”å›ç¼“å­˜ç»“æœ |

---

## ğŸ” é—®é¢˜ç±»å‹è¯†åˆ«è§„åˆ™

| ç±»å‹ | å…³é”®è¯ | ä¸Šä¸‹æ–‡èŒƒå›´ |
|-----|-------|----------|
| ğŸ”¥ å´©æºƒ | `Terminating`, `SIGSEGV`, `Fatal` | å‰15 + å5 |
| ğŸ’¾ å†…å­˜ | `OOM`, `Memory`, `leak` | å‰20 + å5 |
| ğŸŒ ç½‘ç»œ | `HTTP`, `timeout`, `connection` | å‰10 + å10 |
| âš¡ æ€§èƒ½ | `ANR`, `slow`, `lag` | å‰10 + å5 |
| âŒ é”™è¯¯ | `ERROR` | å‰5 + å3 |
| âš ï¸  è­¦å‘Š | `WARNING` | å‰3 + å2 |

---

## ğŸ’¡ å…¸å‹ä½¿ç”¨åœºæ™¯

### åœºæ™¯1: å´©æºƒåˆ†æ

```
é—®é¢˜: Appå´©æºƒ,ä¸çŸ¥é“æ ¹å› 
æ“ä½œ: é€‰ä¸­å´©æºƒæ—¥å¿— â†’ å³é”®"AIåˆ†æ"
ç»“æœ: AIè‡ªåŠ¨æå–å‰15æ¡æ—¥å¿—,å‘ç°åˆå§‹åŒ–å¤±è´¥æ˜¯æ ¹å› 
æ”¶ç›Š: èŠ‚çœ5åˆ†é’Ÿæ‰‹åŠ¨æŸ¥æ‰¾æ—¶é—´
```

### åœºæ™¯2: ç½‘ç»œé—®é¢˜æ’æŸ¥

```
é—®é¢˜: ç½‘ç»œè¯·æ±‚è¶…æ—¶,ä¸çŸ¥é“å“ªä¸ªç¯èŠ‚å‡ºé—®é¢˜
æ“ä½œ: é€‰ä¸­timeoutæ—¥å¿— â†’ å³é”®"AIæŸ¥æ‰¾ç›¸å…³"
ç»“æœ: ç´¢å¼•æœç´¢å‡ºæ‰€æœ‰ç½‘ç»œç›¸å…³æ—¥å¿—,å‘ç°DNSè§£ææ…¢
æ”¶ç›Š: å‘ç°äº†éšè—çš„å…³è”é—®é¢˜
```

### åœºæ™¯3: é‡å¤é—®é¢˜åˆ†æ

```
é—®é¢˜: ç›¸åŒå´©æºƒæ¯å¤©éƒ½è¦é—®AI
æ“ä½œ: ç¬¬ä¸€æ¬¡åˆ†æåè‡ªåŠ¨ç¼“å­˜
ç»“æœ: ç¬¬äºŒæ¬¡ç›´æ¥è¿”å›ç¼“å­˜ç»“æœ,0.1ç§’å“åº”
æ”¶ç›Š: èŠ‚çœAPIæˆæœ¬90%
```

---

## ğŸ“Š æ€§èƒ½æå‡æ•°æ®

| æŒ‡æ ‡ | ä¼ ç»Ÿæ–¹å¼ | æ™ºèƒ½æ–¹å¼ | æå‡ |
|-----|---------|---------|------|
| ä¸Šä¸‹æ–‡è´¨é‡ | 5æ¡å›ºå®š | 5-20æ¡æ™ºèƒ½ | **3-4å€** |
| å…³è”å‘ç° | 0æ¡ | 5-10æ¡ | **è´¨çš„é£è·ƒ** |
| å®šä½é€Ÿåº¦ | 5åˆ†é’Ÿ | 30ç§’ | **10å€** |
| é‡å¤åˆ†æ | 10ç§’ | 0.1ç§’ | **100å€** |

---

## ğŸ› ï¸ ä»£ç ç¤ºä¾‹

### æ™ºèƒ½ä¸Šä¸‹æ–‡æå–

```python
from gui.modules.ai_diagnosis.smart_context_extractor import extract_smart_context

context = extract_smart_context(
    all_entries=log_entries,
    target_entry=selected_log,
    indexer=indexer,
    max_tokens=8000
)

print(f"é—®é¢˜ç±»å‹: {context['problem_type'].value}")
print(f"ä¸Šä¸‹æ–‡: å‰{len(context['context_before'])}æ¡ + å{len(context['context_after'])}æ¡")
print(f"å…³è”æ—¥å¿—: {len(context['related_logs'])}æ¡")
```

### æ—¥å¿—å¯¼èˆª

```python
from gui.modules.ai_diagnosis.log_navigator import LogNavigator

navigator = LogNavigator(log_widget, all_entries)

# è·³è½¬
navigator.jump_to_line(100, reason="AIåˆ†æ:å´©æºƒæ ¹å› ")

# æ ‡è®°å…³é”®æ—¥å¿—
navigator.mark_critical_logs([10, 25, 100])

# åé€€/å‰è¿›
navigator.go_back()
navigator.go_forward()
```

### ç»“æœç¼“å­˜

```python
from gui.modules.ai_diagnosis.analysis_cache import get_global_cache

cache = get_global_cache()

# æŸ¥è¯¢ç¼“å­˜
result = cache.get("åˆ†æå´©æºƒæ—¥å¿—...")
if result:
    print("âœ“ ç¼“å­˜å‘½ä¸­!")
else:
    result = ai_client.ask("åˆ†æå´©æºƒæ—¥å¿—...")
    cache.put("åˆ†æå´©æºƒæ—¥å¿—...", result, problem_type="å´©æºƒ")
```

---

## ğŸ“ æœ€ä½³å®è·µ Top 3

1. **ç­‰å¾…ç´¢å¼•æ„å»ºå®Œæˆ** - çœ‹åˆ°çŠ¶æ€æ  "âš¡ç´¢å¼•" åå†åˆ†æ,æ•ˆæœæ›´ä½³
2. **åˆ©ç”¨ç¼“å­˜** - ç›¸åŒæˆ–ç›¸ä¼¼é—®é¢˜,ç¼“å­˜ä¼šè‡ªåŠ¨å‘½ä¸­
3. **ä½¿ç”¨å¯¼èˆªå†å²** - AIåˆ†æå¤šä¸ªé—®é¢˜å,ç”¨åé€€/å‰è¿›å¿«é€Ÿå›æº¯

---

## âš™ï¸ é…ç½®é€‰é¡¹

### ä¸Šä¸‹æ–‡Tokené™åˆ¶

```python
# å´©æºƒåˆ†æ - éœ€è¦æ›´å¤šä¸Šä¸‹æ–‡
context = extractor.extract_context(target, max_tokens=10000)

# æ™®é€šé”™è¯¯ - ç²¾ç®€å³å¯
context = extractor.extract_context(target, max_tokens=5000)
```

### ç¼“å­˜ç›¸ä¼¼åº¦é˜ˆå€¼

```python
# ç²¾ç¡®åŒ¹é…
result = cache.get(query, similarity_threshold=1.0)

# æ¨¡ç³ŠåŒ¹é… (æ¨è)
result = cache.get(query, similarity_threshold=0.9)

# å®½æ¾åŒ¹é…
result = cache.get(query, similarity_threshold=0.8)
```

### ç¼“å­˜å¤§å°

```python
# é»˜è®¤200æ¡
cache = AnalysisCache(max_size=200)

# å¤§å®¹é‡ (å¦‚æœå†…å­˜å……è¶³)
cache = AnalysisCache(max_size=500)
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q: æ™ºèƒ½åŠŸèƒ½æœªç”Ÿæ•ˆ?

**A:** æ£€æŸ¥æ§åˆ¶å°,åº”è¯¥çœ‹åˆ°:
```
âœ“ æ—¥å¿—å¯¼èˆªå™¨å·²åˆå§‹åŒ–
âœ“ AIåˆ†æç¼“å­˜å·²åˆå§‹åŒ–
âœ“ æ™ºèƒ½ä¸Šä¸‹æ–‡æå–å®Œæˆ: å´©æºƒ
```

å¦‚æœçœ‹åˆ° `âš ï¸  æ™ºèƒ½AIåŠŸèƒ½æ¨¡å—æœªåŠ è½½`,æ£€æŸ¥æ¨¡å—å®‰è£…ã€‚

### Q: ç¼“å­˜æœªå‘½ä¸­?

**A:** å¯èƒ½æ˜¯æŸ¥è¯¢æ ¼å¼ç•¥æœ‰ä¸åŒã€‚æ£€æŸ¥ç¼“å­˜ç»Ÿè®¡:
```python
stats = cache.get_stats()
print(stats['hit_rate'])  # åº”è¯¥ > 50%
```

### Q: è·³è½¬åŠŸèƒ½æ— æ•ˆ?

**A:** ç¡®ä¿å¯¼èˆªå™¨æ­£ç¡®åˆå§‹åŒ–:
```python
if navigator is None:
    navigator = LogNavigator(log_widget, all_entries)
```

---

## ğŸ“š å®Œæ•´æ–‡æ¡£

è¯¦ç»†ç”¨æ³•è¯·å‚è€ƒ: [AIæ—¥å¿—é›†æˆå®Œæ•´æŒ‡å—](./AI_LOG_INTEGRATION_GUIDE.md)

---

## ğŸ‰ å¼€å§‹ä½¿ç”¨

**ç«‹å³ä½“éªŒ:** å³é”®æ—¥å¿— â†’ "ğŸ¤– AIåˆ†ææ­¤æ—¥å¿—"

**åé¦ˆé—®é¢˜:** [GitHub Issues](https://github.com/your-repo/issues)

---

*ç‰ˆæœ¬: 1.0 | æ›´æ–°: 2025-10-24*
