# iOSä»£ç æ··æ·†åŠŸèƒ½è®¾è®¡å®¡æŸ¥æŠ¥å‘Š

## æ–‡æ¡£ä¿¡æ¯
- **å®¡æŸ¥æ—¥æœŸ**: 2025-10-13
- **å®¡æŸ¥ç‰ˆæœ¬**: v1.0.0
- **å®¡æŸ¥ç›®æ ‡**: è¯„ä¼°è®¾è®¡çš„å®ç”¨æ€§ã€å¯è¡Œæ€§ã€æ˜“ç”¨æ€§
- **å®¡æŸ¥äºº**: Claude Code

---

## ä¸€ã€æ€»ä½“è¯„ä¼°

### 1.1 è®¾è®¡ä¼˜ç‚¹ âœ…

#### æ¶æ„è®¾è®¡
- âœ… **æ¨¡å—åŒ–æ¸…æ™°** - 11ä¸ªç‹¬ç«‹æ¨¡å—ï¼ŒèŒè´£æ˜ç¡®
- âœ… **æ¥å£è§„èŒƒ** - æ¯ä¸ªæ¨¡å—éƒ½æœ‰æ˜ç¡®çš„æ¥å£å®šä¹‰
- âœ… **æ•°æ®æµæ¸…æ™°** - ä»åˆ†æåˆ°è¾“å‡ºçš„å®Œæ•´æµç¨‹
- âœ… **æ˜“äºæ‰©å±•** - é¢„ç•™äº†æœªæ¥åŠŸèƒ½çš„æ‰©å±•ç©ºé—´

#### åŠŸèƒ½å®Œæ•´æ€§
- âœ… **æ ¸å¿ƒåŠŸèƒ½å…¨è¦†ç›–** - P0/P1åŠŸèƒ½æ¶µç›–ä¸»è¦éœ€æ±‚
- âœ… **CLIæ”¯æŒ** - å®Œå–„çš„å‘½ä»¤è¡Œå·¥å…·å’ŒCI/CDé›†æˆ
- âœ… **GUIå‹å¥½** - ç›´è§‚çš„å›¾å½¢ç•Œé¢è®¾è®¡
- âœ… **é”™è¯¯å¤„ç†** - å¤‡ä»½ã€å›æ»šæœºåˆ¶å®Œå–„

#### æ–‡æ¡£è´¨é‡
- âœ… **è¯¦ç»†å®Œæ•´** - 140KBæ–‡æ¡£ï¼Œçº¦1000è¡Œ
- âœ… **ç¤ºä¾‹ä¸°å¯Œ** - æä¾›å¤§é‡ä»£ç ç¤ºä¾‹å’Œä½¿ç”¨åœºæ™¯
- âœ… **ç»“æ„æ¸…æ™°** - ç« èŠ‚ç»„ç»‡åˆç†ï¼Œæ˜“äºæŸ¥æ‰¾

### 1.2 éœ€è¦æ”¹è¿›çš„åœ°æ–¹ âš ï¸

#### å…³é”®é—®é¢˜
1. **ç™½åå•è‡ªåŠ¨ç”Ÿæˆç¼ºå¤±** - æ‰‹åŠ¨ç»´æŠ¤ç™½åå•å·¥ä½œé‡å¤§
2. **å¢é‡æ··æ·†æ”¯æŒä¸è¶³** - ç¼ºå°‘ç‰ˆæœ¬è¿­ä»£çš„å¢é‡å¤„ç†æ–¹æ¡ˆ
3. **æ€§èƒ½ä¼˜åŒ–ç»†èŠ‚ä¸è¶³** - å¤§å‹é¡¹ç›®å¤„ç†ç­–ç•¥ä¸å¤Ÿå…·ä½“
4. **æµ‹è¯•ç­–ç•¥ä¸å®Œæ•´** - ç¼ºå°‘æ··æ·†åä»£ç çš„è‡ªåŠ¨åŒ–æµ‹è¯•æ–¹æ¡ˆ
5. **é…ç½®æ¨¡æ¿ä¸è¶³** - ç¼ºå°‘é’ˆå¯¹ä¸åŒåœºæ™¯çš„é…ç½®æ¨¡æ¿

#### æ¬¡è¦é—®é¢˜
6. **GUIäº¤äº’ç»†èŠ‚** - æŸäº›äº¤äº’æµç¨‹å¯ä»¥æ›´ä¼˜åŒ–
7. **é”™è¯¯æç¤ºä¸å¤Ÿ** - é”™è¯¯ä¿¡æ¯çš„å‹å¥½æ€§éœ€è¦åŠ å¼º
8. **æ–‡æ¡£ç¤ºä¾‹** - ç¼ºå°‘å®é™…é¡¹ç›®çš„å®Œæ•´ç¤ºä¾‹

---

## äºŒã€è¯¦ç»†å®¡æŸ¥å’Œä¼˜åŒ–å»ºè®®

### 2.1 ç™½åå•ç®¡ç†ä¼˜åŒ– ğŸ”§

#### é—®é¢˜åˆ†æ
å½“å‰è®¾è®¡è¦æ±‚ç”¨æˆ·æ‰‹åŠ¨é…ç½®ç™½åå•ï¼Œè¿™åœ¨å®é™…ä½¿ç”¨ä¸­å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š
- âŒ ç”¨æˆ·ä¸ç†Ÿæ‚‰æ‰€æœ‰ç³»ç»ŸAPIï¼Œå®¹æ˜“é—æ¼
- âŒ ç¬¬ä¸‰æ–¹åº“çš„APIä¹Ÿéœ€è¦åŠ å…¥ç™½åå•
- âŒ æ¯ä¸ªé¡¹ç›®çš„ç™½åå•å¯èƒ½ä¸åŒï¼Œç»´æŠ¤æˆæœ¬é«˜

#### ä¼˜åŒ–æ–¹æ¡ˆ

##### 2.1.1 å†…ç½®ç³»ç»ŸAPIç™½åå•åº“

```python
# gui/modules/obfuscation/system_apis.py
"""
å†…ç½®ç³»ç»ŸAPIç™½åå•åº“
è‡ªåŠ¨ä»Appleå®˜æ–¹æ–‡æ¡£ç”Ÿæˆ
"""

class SystemAPIWhitelist:
    """ç³»ç»ŸAPIç™½åå•"""

    # UIKitæ¡†æ¶ - å¸¸ç”¨ç±»
    UIKIT_CLASSES = {
        'UIViewController', 'UIView', 'UIButton', 'UILabel',
        'UITableView', 'UITableViewCell', 'UICollectionView',
        'UINavigationController', 'UITabBarController',
        'UIImageView', 'UIScrollView', 'UITextField',
        # ... çº¦500ä¸ªç±»
    }

    # UIKitæ¡†æ¶ - å¸¸ç”¨æ–¹æ³•
    UIKIT_METHODS = {
        'viewDidLoad', 'viewWillAppear:', 'viewDidAppear:',
        'viewWillDisappear:', 'viewDidDisappear:',
        'tableView:numberOfRowsInSection:',
        'tableView:cellForRowAtIndexPath:',
        # ... çº¦1000ä¸ªæ–¹æ³•
    }

    # Foundationæ¡†æ¶
    FOUNDATION_CLASSES = {
        'NSObject', 'NSString', 'NSArray', 'NSDictionary',
        'NSData', 'NSDate', 'NSError', 'NSNotificationCenter',
        # ... çº¦300ä¸ªç±»
    }

    # Swiftæ ‡å‡†åº“
    SWIFT_STDLIB = {
        'String', 'Array', 'Dictionary', 'Set',
        'Int', 'Double', 'Float', 'Bool',
        # ... çº¦100ä¸ªç±»å‹
    }

    @classmethod
    def get_all_system_apis(cls) -> Set[str]:
        """è·å–æ‰€æœ‰ç³»ç»ŸAPI"""
        return (cls.UIKIT_CLASSES | cls.UIKIT_METHODS |
                cls.FOUNDATION_CLASSES | cls.SWIFT_STDLIB)

    @classmethod
    def is_system_api(cls, name: str) -> bool:
        """æ£€æŸ¥æ˜¯å¦æ˜¯ç³»ç»ŸAPI"""
        return name in cls.get_all_system_apis()
```

##### 2.1.2 è‡ªåŠ¨æ£€æµ‹ç¬¬ä¸‰æ–¹åº“

```python
# gui/modules/obfuscation/third_party_detector.py
"""
ç¬¬ä¸‰æ–¹åº“æ£€æµ‹å™¨
è‡ªåŠ¨è¯†åˆ«é¡¹ç›®ä¸­çš„ç¬¬ä¸‰æ–¹åº“å¹¶åŠ å…¥ç™½åå•
"""

import os
import json
from pathlib import Path
from typing import Set, List

class ThirdPartyDetector:
    """ç¬¬ä¸‰æ–¹åº“æ£€æµ‹å™¨"""

    def __init__(self, project_path: str):
        self.project_path = Path(project_path)
        self.third_party_apis = set()

    def detect_cocoapods(self) -> Set[str]:
        """æ£€æµ‹CocoaPodsåº“"""
        podfile_lock = self.project_path / 'Podfile.lock'
        if not podfile_lock.exists():
            return set()

        # è§£æPodfile.lockè·å–ä¾èµ–
        pods = self._parse_podfile_lock(podfile_lock)

        # æ‰«æPodsç›®å½•æå–API
        pods_dir = self.project_path / 'Pods'
        if pods_dir.exists():
            for pod in pods:
                apis = self._extract_pod_apis(pods_dir / pod)
                self.third_party_apis.update(apis)

        return self.third_party_apis

    def detect_spm(self) -> Set[str]:
        """æ£€æµ‹Swift Package Manageråº“"""
        package_resolved = self.project_path / '.build' / 'Package.resolved'
        if not package_resolved.exists():
            # å°è¯•Xcodeå·¥ä½œç©ºé—´
            package_resolved = self.project_path / '.swiftpm' / 'Package.resolved'

        if package_resolved.exists():
            packages = self._parse_package_resolved(package_resolved)
            for package in packages:
                apis = self._extract_spm_apis(package)
                self.third_party_apis.update(apis)

        return self.third_party_apis

    def detect_carthage(self) -> Set[str]:
        """æ£€æµ‹Carthageåº“"""
        cartfile = self.project_path / 'Cartfile'
        if not cartfile.exists():
            return set()

        frameworks = self._parse_cartfile(cartfile)
        carthage_dir = self.project_path / 'Carthage' / 'Build' / 'iOS'

        if carthage_dir.exists():
            for framework in frameworks:
                apis = self._extract_framework_apis(carthage_dir / f"{framework}.framework")
                self.third_party_apis.update(apis)

        return self.third_party_apis

    def _extract_pod_apis(self, pod_dir: Path) -> Set[str]:
        """æå–Podçš„å…¬å¼€API"""
        apis = set()

        # æ‰«æå¤´æ–‡ä»¶
        for header_file in pod_dir.glob('**/*.h'):
            with open(header_file, 'r', encoding='utf-8', errors='ignore') as f:
                content = f.read()
                # æå–@interfaceã€@protocolã€@propertyã€æ–¹æ³•å®šä¹‰
                apis.update(self._parse_objc_header(content))

        return apis

    def generate_whitelist(self) -> dict:
        """ç”Ÿæˆç¬¬ä¸‰æ–¹åº“ç™½åå•"""
        return {
            "third_party": {
                "cocoapods": list(self.detect_cocoapods()),
                "spm": list(self.detect_spm()),
                "carthage": list(self.detect_carthage())
            }
        }
```

##### 2.1.3 æ™ºèƒ½ç™½åå•å»ºè®®

```python
# gui/modules/obfuscation/whitelist_suggester.py
"""
ç™½åå•æ™ºèƒ½å»ºè®®å™¨
åŸºäºé¡¹ç›®åˆ†æè‡ªåŠ¨å»ºè®®ç™½åå•é¡¹
"""

class WhitelistSuggester:
    """ç™½åå•æ™ºèƒ½å»ºè®®å™¨"""

    def __init__(self, project_analyzer, code_parser):
        self.project_analyzer = project_analyzer
        self.code_parser = code_parser

    def suggest_whitelist(self) -> dict:
        """ç”Ÿæˆç™½åå•å»ºè®®"""
        suggestions = {
            'system_apis': [],      # ç³»ç»ŸAPI
            'app_delegate': [],      # AppDelegateç›¸å…³
            'lifecycle': [],         # ç”Ÿå‘½å‘¨æœŸæ–¹æ³•
            'third_party': [],       # ç¬¬ä¸‰æ–¹åº“
            'protocols': [],         # åè®®æ–¹æ³•
            'xibs': [],              # Xib/Storyboardå…³è”
            'confidence': {}         # å»ºè®®çš„ç½®ä¿¡åº¦
        }

        # 1. è‡ªåŠ¨æ·»åŠ ç³»ç»ŸAPI
        suggestions['system_apis'] = list(SystemAPIWhitelist.get_all_system_apis())
        suggestions['confidence']['system_apis'] = 1.0  # 100%ç¡®å®š

        # 2. æ£€æµ‹AppDelegateå’ŒSceneDelegate
        app_delegates = self._find_app_delegates()
        suggestions['app_delegate'] = app_delegates
        suggestions['confidence']['app_delegate'] = 1.0

        # 3. æ£€æµ‹UIViewControllerç”Ÿå‘½å‘¨æœŸæ–¹æ³•
        lifecycle_methods = self._find_lifecycle_methods()
        suggestions['lifecycle'] = lifecycle_methods
        suggestions['confidence']['lifecycle'] = 0.95  # 95%å»ºè®®ä¿ç•™

        # 4. æ£€æµ‹ç¬¬ä¸‰æ–¹åº“
        detector = ThirdPartyDetector(self.project_analyzer.project_path)
        third_party = detector.generate_whitelist()
        suggestions['third_party'] = third_party['third_party']
        suggestions['confidence']['third_party'] = 0.9  # 90%å»ºè®®ä¿ç•™

        # 5. æ£€æµ‹åè®®æ–¹æ³•ï¼ˆdelegate/datasourceï¼‰
        protocol_methods = self._find_protocol_methods()
        suggestions['protocols'] = protocol_methods
        suggestions['confidence']['protocols'] = 0.85  # 85%å»ºè®®ä¿ç•™

        # 6. æ£€æµ‹Xib/Storyboardå…³è”
        xib_connections = self._find_xib_connections()
        suggestions['xibs'] = xib_connections
        suggestions['confidence']['xibs'] = 1.0  # 100%å¿…é¡»ä¿ç•™

        return suggestions

    def _find_app_delegates(self) -> List[str]:
        """æŸ¥æ‰¾AppDelegateç›¸å…³ç±»å’Œæ–¹æ³•"""
        delegates = []

        # æ‰«ææ‰€æœ‰æºæ–‡ä»¶
        source_files = self.project_analyzer.get_source_files()
        for source_file in source_files:
            parsed = self.code_parser.parse_file(source_file)

            # æŸ¥æ‰¾ç»§æ‰¿è‡ªUIApplicationDelegateçš„ç±»
            for cls in parsed.classes:
                if 'UIApplicationDelegate' in cls.protocols or \
                   'AppDelegate' in cls.name:
                    delegates.append(cls.name)
                    # æ·»åŠ delegateæ–¹æ³•
                    for method in cls.methods:
                        if method.name.startswith('application'):
                            delegates.append(method.name)

        return delegates

    def _find_lifecycle_methods(self) -> List[str]:
        """æŸ¥æ‰¾ç”Ÿå‘½å‘¨æœŸæ–¹æ³•"""
        lifecycle = [
            'viewDidLoad', 'viewWillAppear:', 'viewDidAppear:',
            'viewWillDisappear:', 'viewDidDisappear:',
            'viewWillLayoutSubviews', 'viewDidLayoutSubviews',
            'init', 'initWithCoder:', 'initWithNibName:bundle:',
            'awakeFromNib', 'prepareForReuse',
            'deinit', 'dealloc'
        ]
        return lifecycle
```

##### 2.1.4 GUIç•Œé¢å¢å¼º

åœ¨GUIä¸­æ·»åŠ "æ™ºèƒ½å»ºè®®"åŠŸèƒ½ï¼š

```python
# gui/modules/obfuscation/obfuscation_tab.py (æ–°å¢éƒ¨åˆ†)

def create_whitelist_manager_ui(self):
    """åˆ›å»ºç™½åå•ç®¡ç†UI"""
    whitelist_frame = ttk.LabelFrame(self.root, text="ç™½åå•ç®¡ç†")

    # ç™½åå•æ–‡ä»¶é€‰æ‹©
    file_frame = ttk.Frame(whitelist_frame)
    self.whitelist_file_var = tk.StringVar(value="whitelist.json")
    ttk.Label(file_frame, text="ç™½åå•æ–‡ä»¶:").pack(side=tk.LEFT)
    ttk.Entry(file_frame, textvariable=self.whitelist_file_var, width=30).pack(side=tk.LEFT)
    ttk.Button(file_frame, text="é€‰æ‹©", command=self.select_whitelist).pack(side=tk.LEFT)
    file_frame.pack(fill=tk.X, padx=5, pady=5)

    # æŒ‰é’®ç»„
    button_frame = ttk.Frame(whitelist_frame)
    ttk.Button(button_frame, text="ğŸ“ ç¼–è¾‘ç™½åå•",
               command=self.edit_whitelist).pack(side=tk.LEFT, padx=2)
    ttk.Button(button_frame, text="ğŸ¤– æ™ºèƒ½å»ºè®®",
               command=self.suggest_whitelist).pack(side=tk.LEFT, padx=2)
    ttk.Button(button_frame, text="ğŸ“¥ å¯¼å…¥æ¨¡æ¿",
               command=self.import_whitelist_template).pack(side=tk.LEFT, padx=2)
    ttk.Button(button_frame, text="ğŸ’¾ ä¿å­˜",
               command=self.save_whitelist).pack(side=tk.LEFT, padx=2)
    button_frame.pack(fill=tk.X, padx=5, pady=5)

    # ç™½åå•é¢„è§ˆ
    preview_frame = ttk.Frame(whitelist_frame)
    ttk.Label(preview_frame, text="å½“å‰ç™½åå•é¡¹æ•°:").pack(side=tk.LEFT)
    self.whitelist_count_label = ttk.Label(preview_frame, text="0", foreground="blue")
    self.whitelist_count_label.pack(side=tk.LEFT)
    preview_frame.pack(fill=tk.X, padx=5, pady=5)

    whitelist_frame.pack(fill=tk.BOTH, padx=10, pady=5)

def suggest_whitelist(self):
    """æ™ºèƒ½å»ºè®®ç™½åå•"""
    if not self.project_path_var.get():
        messagebox.showwarning("è­¦å‘Š", "è¯·å…ˆé€‰æ‹©é¡¹ç›®è·¯å¾„")
        return

    # æ˜¾ç¤ºè¿›åº¦å¯¹è¯æ¡†
    progress_dialog = tk.Toplevel(self.root)
    progress_dialog.title("æ­£åœ¨åˆ†æé¡¹ç›®...")
    progress_dialog.geometry("400x150")

    ttk.Label(progress_dialog, text="æ­£åœ¨åˆ†æé¡¹ç›®å¹¶ç”Ÿæˆç™½åå•å»ºè®®...").pack(pady=10)
    progress_bar = ttk.Progressbar(progress_dialog, mode='indeterminate')
    progress_bar.pack(fill=tk.X, padx=20, pady=10)
    progress_bar.start()

    # å¼‚æ­¥åˆ†æ
    def analyze():
        try:
            # åˆ†æé¡¹ç›®
            analyzer = ProjectAnalyzer(self.project_path_var.get())
            parser = CodeParser()
            suggester = WhitelistSuggester(analyzer, parser)

            suggestions = suggester.suggest_whitelist()

            # å…³é—­è¿›åº¦å¯¹è¯æ¡†
            progress_dialog.destroy()

            # æ˜¾ç¤ºå»ºè®®å¯¹è¯æ¡†
            self.show_whitelist_suggestions(suggestions)

        except Exception as e:
            progress_dialog.destroy()
            messagebox.showerror("é”™è¯¯", f"åˆ†æå¤±è´¥: {str(e)}")

    # åœ¨åå°çº¿ç¨‹è¿è¡Œ
    import threading
    thread = threading.Thread(target=analyze)
    thread.start()

def show_whitelist_suggestions(self, suggestions: dict):
    """æ˜¾ç¤ºç™½åå•å»ºè®®å¯¹è¯æ¡†"""
    dialog = tk.Toplevel(self.root)
    dialog.title("ç™½åå•æ™ºèƒ½å»ºè®®")
    dialog.geometry("800x600")

    # è¯´æ˜
    info_frame = ttk.Frame(dialog)
    ttk.Label(info_frame,
              text="åŸºäºé¡¹ç›®åˆ†æï¼Œä»¥ä¸‹æ˜¯å»ºè®®åŠ å…¥ç™½åå•çš„é¡¹ï¼ˆå‹¾é€‰éœ€è¦çš„é¡¹ï¼‰:",
              foreground="blue").pack(padx=10, pady=10)
    info_frame.pack(fill=tk.X)

    # åˆ›å»ºnotebookæ˜¾ç¤ºä¸åŒç±»åˆ«
    notebook = ttk.Notebook(dialog)

    # ç³»ç»ŸAPIæ ‡ç­¾é¡µ
    system_frame = self._create_suggestion_page(
        notebook,
        suggestions['system_apis'],
        f"ç³»ç»ŸAPI ({len(suggestions['system_apis'])} é¡¹)",
        suggestions['confidence']['system_apis']
    )
    notebook.add(system_frame, text=f"ç³»ç»ŸAPI ({len(suggestions['system_apis'])})")

    # AppDelegateæ ‡ç­¾é¡µ
    delegate_frame = self._create_suggestion_page(
        notebook,
        suggestions['app_delegate'],
        f"AppDelegate ({len(suggestions['app_delegate'])} é¡¹)",
        suggestions['confidence']['app_delegate']
    )
    notebook.add(delegate_frame, text=f"AppDelegate ({len(suggestions['app_delegate'])})")

    # ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ ‡ç­¾é¡µ
    lifecycle_frame = self._create_suggestion_page(
        notebook,
        suggestions['lifecycle'],
        f"ç”Ÿå‘½å‘¨æœŸæ–¹æ³• ({len(suggestions['lifecycle'])} é¡¹)",
        suggestions['confidence']['lifecycle']
    )
    notebook.add(lifecycle_frame, text=f"ç”Ÿå‘½å‘¨æœŸ ({len(suggestions['lifecycle'])})")

    # ç¬¬ä¸‰æ–¹åº“æ ‡ç­¾é¡µ
    third_party_items = []
    for category, items in suggestions['third_party'].items():
        third_party_items.extend(items)
    third_party_frame = self._create_suggestion_page(
        notebook,
        third_party_items,
        f"ç¬¬ä¸‰æ–¹åº“ ({len(third_party_items)} é¡¹)",
        suggestions['confidence']['third_party']
    )
    notebook.add(third_party_frame, text=f"ç¬¬ä¸‰æ–¹åº“ ({len(third_party_items)})")

    notebook.pack(fill=tk.BOTH, expand=True, padx=10, pady=10)

    # æŒ‰é’®
    button_frame = ttk.Frame(dialog)
    ttk.Button(button_frame, text="å…¨éƒ¨æ¥å—",
               command=lambda: self.accept_all_suggestions(suggestions, dialog)).pack(side=tk.LEFT, padx=5)
    ttk.Button(button_frame, text="åº”ç”¨é€‰ä¸­é¡¹",
               command=lambda: self.apply_selected_suggestions(dialog)).pack(side=tk.LEFT, padx=5)
    ttk.Button(button_frame, text="å–æ¶ˆ",
               command=dialog.destroy).pack(side=tk.LEFT, padx=5)
    button_frame.pack(pady=10)
```

---

### 2.2 å¢é‡æ··æ·†æ”¯æŒ ğŸ”„

#### é—®é¢˜åˆ†æ
åœ¨å®é™…å¼€å‘ä¸­ï¼Œé¡¹ç›®ä¼šæŒç»­è¿­ä»£ï¼Œæ¯æ¬¡æäº¤éƒ½å®Œå…¨é‡æ–°æ··æ·†å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š
- âŒ æ··æ·†ç»“æœä¸ä¸€è‡´ï¼Œå½±å“ç‰ˆæœ¬å¯¹æ¯”
- âŒ æ¯æ¬¡å…¨é‡æ··æ·†è€—æ—¶é•¿
- âŒ Git diffæ— æ³•æ¸…æ™°æ˜¾ç¤ºå®é™…ä»£ç å˜æ›´

#### ä¼˜åŒ–æ–¹æ¡ˆ

##### 2.2.1 å›ºå®šæ··æ·†ï¼ˆDeterministic Obfuscationï¼‰

```python
# gui/modules/obfuscation/name_generator.py (å¢å¼ºç‰ˆ)

import hashlib
from typing import Optional

class NameGenerator:
    """åç§°ç”Ÿæˆå™¨ - æ”¯æŒå›ºå®šæ··æ·†"""

    def __init__(self, strategy: str = NamingStrategy.RANDOM,
                 seed: Optional[str] = None):
        """
        åˆå§‹åŒ–åç§°ç”Ÿæˆå™¨

        Args:
            strategy: å‘½åç­–ç•¥
            seed: å›ºå®šç§å­ï¼ˆç”¨äºç¡®å®šæ€§æ··æ·†ï¼‰
        """
        self.strategy = strategy
        self.seed = seed
        self.generated_names = {}  # ç¼“å­˜å·²ç”Ÿæˆçš„åç§°

        # å¦‚æœæä¾›äº†ç§å­ï¼Œä½¿ç”¨å›ºå®šçš„éšæœºæ•°ç”Ÿæˆå™¨
        if seed:
            import random
            self.random = random.Random(seed)
        else:
            import random
            self.random = random

    def generate_class_name(self, original_name: str) -> str:
        """
        ç”Ÿæˆç±»åï¼ˆç¡®å®šæ€§ï¼‰

        å¦‚æœæä¾›äº†seedï¼Œç›¸åŒçš„åŸå§‹åç§°æ€»æ˜¯ç”Ÿæˆç›¸åŒçš„æ··æ·†åç§°
        """
        # æ£€æŸ¥ç¼“å­˜
        if original_name in self.generated_names:
            return self.generated_names[original_name]

        if self.seed:
            # ä½¿ç”¨åŸå§‹åç§°+ç§å­è®¡ç®—å“ˆå¸Œ
            hash_input = f"{self.seed}:{original_name}:class"
            hash_value = hashlib.md5(hash_input.encode()).hexdigest()

            # ä»å“ˆå¸Œå€¼ç”Ÿæˆåç§°
            name = self._generate_from_hash(hash_value, prefix='C')
        else:
            # éšæœºç”Ÿæˆ
            name = self._generate_random_name(prefix='C')

        # ç¡®ä¿å”¯ä¸€æ€§
        while name in self.generated_names.values():
            name = name + self.random.choice('ABCDEFGHIJKLMNOPQRSTUVWXYZ')

        # ç¼“å­˜
        self.generated_names[original_name] = name
        return name

    def _generate_from_hash(self, hash_value: str, prefix: str = '') -> str:
        """ä»å“ˆå¸Œå€¼ç”Ÿæˆåç§°"""
        # ä½¿ç”¨å“ˆå¸Œçš„å‰16ä¸ªå­—ç¬¦
        chars = hash_value[:16]

        # è½¬æ¢ä¸ºåˆæ³•çš„ç±»åï¼ˆå¤§å†™å­—æ¯å¼€å¤´ï¼‰
        name_chars = []
        for i, c in enumerate(chars):
            if c.isdigit():
                # æ•°å­—è½¬å­—æ¯
                name_chars.append(chr(ord('A') + int(c)))
            else:
                # å­—æ¯è½¬å¤§å†™
                name_chars.append(c.upper())

        name = prefix + ''.join(name_chars)
        return name[:16]  # é™åˆ¶é•¿åº¦
```

##### 2.2.2 æ˜ å°„è¡¨ç‰ˆæœ¬ç®¡ç†

```python
# gui/modules/obfuscation/mapping_manager.py
"""
æ˜ å°„è¡¨ç‰ˆæœ¬ç®¡ç†å™¨
æ”¯æŒå¢é‡æ··æ·†å’Œç‰ˆæœ¬å¯¹æ¯”
"""

import json
from pathlib import Path
from datetime import datetime
from typing import Dict, Optional

class MappingManager:
    """æ˜ å°„è¡¨ç®¡ç†å™¨"""

    def __init__(self, project_path: str):
        self.project_path = Path(project_path)
        self.mapping_dir = self.project_path / '.obfuscation'
        self.mapping_dir.mkdir(exist_ok=True)

    def save_mapping(self, mapping: NameMapping, version: str = None) -> str:
        """
        ä¿å­˜æ˜ å°„è¡¨

        Args:
            mapping: åç§°æ˜ å°„
            version: ç‰ˆæœ¬å·ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä½¿ç”¨å½“å‰æ—¶é—´æˆ³ï¼‰

        Returns:
            æ˜ å°„è¡¨æ–‡ä»¶è·¯å¾„
        """
        if version is None:
            version = datetime.now().strftime("%Y%m%d_%H%M%S")

        mapping_file = self.mapping_dir / f"mapping_{version}.json"

        data = {
            'version': version,
            'timestamp': datetime.now().isoformat(),
            'project': self.project_path.name,
            'mappings': {
                'classes': mapping.class_mappings,
                'methods': mapping.method_mappings,
                'properties': mapping.property_mappings,
                'files': mapping.file_mappings
            }
        }

        with open(mapping_file, 'w', encoding='utf-8') as f:
            json.dump(data, f, indent=2, ensure_ascii=False)

        # åŒæ—¶ä¿å­˜ä¸ºlatest
        latest_file = self.mapping_dir / 'mapping_latest.json'
        with open(latest_file, 'w', encoding='utf-8') as f:
            json.dump(data, f, indent=2, ensure_ascii=False)

        return str(mapping_file)

    def load_latest_mapping(self) -> Optional[NameMapping]:
        """åŠ è½½æœ€æ–°çš„æ˜ å°„è¡¨"""
        latest_file = self.mapping_dir / 'mapping_latest.json'
        if not latest_file.exists():
            return None

        with open(latest_file, 'r', encoding='utf-8') as f:
            data = json.load(f)

        mapping = NameMapping(
            class_mappings=data['mappings']['classes'],
            method_mappings=data['mappings']['methods'],
            property_mappings=data['mappings']['properties'],
            file_mappings=data['mappings']['files']
        )

        return mapping

    def incremental_mapping(self, old_mapping: NameMapping,
                           new_symbols: Dict[str, List[str]]) -> NameMapping:
        """
        ç”Ÿæˆå¢é‡æ˜ å°„

        Args:
            old_mapping: æ—§çš„æ˜ å°„è¡¨
            new_symbols: æ–°å¢çš„ç¬¦å· {category: [symbols]}

        Returns:
            æ›´æ–°åçš„æ˜ å°„è¡¨
        """
        # å¤åˆ¶æ—§æ˜ å°„
        new_mapping = NameMapping(
            class_mappings=old_mapping.class_mappings.copy(),
            method_mappings=old_mapping.method_mappings.copy(),
            property_mappings=old_mapping.property_mappings.copy(),
            file_mappings=old_mapping.file_mappings.copy()
        )

        # ä¸ºæ–°ç¬¦å·ç”Ÿæˆæ˜ å°„ï¼ˆä½¿ç”¨ç›¸åŒçš„ç§å­ç¡®ä¿ä¸€è‡´æ€§ï¼‰
        generator = NameGenerator(seed=self._get_project_seed())

        # å¤„ç†æ–°å¢çš„ç±»
        for class_name in new_symbols.get('classes', []):
            if class_name not in new_mapping.class_mappings:
                new_mapping.class_mappings[class_name] = generator.generate_class_name(class_name)

        # å¤„ç†æ–°å¢çš„æ–¹æ³•
        for method_name in new_symbols.get('methods', []):
            if method_name not in new_mapping.method_mappings:
                new_mapping.method_mappings[method_name] = generator.generate_method_name(method_name)

        # å¤„ç†æ–°å¢çš„å±æ€§
        for property_name in new_symbols.get('properties', []):
            if property_name not in new_mapping.property_mappings:
                new_mapping.property_mappings[property_name] = generator.generate_property_name(property_name)

        return new_mapping

    def _get_project_seed(self) -> str:
        """è·å–é¡¹ç›®çš„å›ºå®šç§å­"""
        # ä½¿ç”¨é¡¹ç›®è·¯å¾„ç”Ÿæˆå›ºå®šç§å­
        return hashlib.md5(str(self.project_path).encode()).hexdigest()

    def compare_mappings(self, version1: str, version2: str) -> dict:
        """æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬çš„æ˜ å°„è¡¨"""
        mapping1 = self._load_mapping_by_version(version1)
        mapping2 = self._load_mapping_by_version(version2)

        diff = {
            'added': {
                'classes': [],
                'methods': [],
                'properties': [],
                'files': []
            },
            'removed': {
                'classes': [],
                'methods': [],
                'properties': [],
                'files': []
            },
            'changed': {
                'classes': [],
                'methods': [],
                'properties': [],
                'files': []
            }
        }

        # æ¯”è¾ƒç±»
        self._compare_category(
            mapping1['mappings']['classes'],
            mapping2['mappings']['classes'],
            diff, 'classes'
        )

        # æ¯”è¾ƒæ–¹æ³•
        self._compare_category(
            mapping1['mappings']['methods'],
            mapping2['mappings']['methods'],
            diff, 'methods'
        )

        return diff
```

##### 2.2.3 CLIå¢é‡æ··æ·†æ”¯æŒ

åœ¨CLIä¸­æ·»åŠ å¢é‡æ··æ·†é€‰é¡¹ï¼š

```bash
# å¢é‡æ··æ·†
python3 -m gui.modules.obfuscation.obfuscation_cli \
    -p /path/to/project \
    -o /path/to/output \
    --incremental \
    --use-latest-mapping

# æŒ‡å®šç‰¹å®šç‰ˆæœ¬çš„æ˜ å°„è¡¨
python3 -m gui.modules.obfuscation.obfuscation_cli \
    -p /path/to/project \
    -o /path/to/output \
    --incremental \
    --mapping-version 20251013_120000
```

---

### 2.3 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ âš¡

#### é—®é¢˜åˆ†æ
å¤§å‹é¡¹ç›®å¯èƒ½åŒ…å«æ•°åƒä¸ªæ–‡ä»¶å’Œæ•°ä¸‡ä¸ªç¬¦å·ï¼Œå¤„ç†æ—¶é—´å¯èƒ½å¾ˆé•¿

#### ä¼˜åŒ–æ–¹æ¡ˆ

##### 2.3.1 å¤šçº¿ç¨‹å¹¶è¡Œå¤„ç†

```python
# gui/modules/obfuscation/obfuscation_engine.py (ä¼˜åŒ–ç‰ˆ)

import concurrent.futures
from multiprocessing import cpu_count

class ObfuscationEngine:
    """æ··æ·†å¼•æ“ - æ”¯æŒå¹¶è¡Œå¤„ç†"""

    def __init__(self, config: ObfuscationConfig):
        self.config = config
        self.num_workers = min(cpu_count(), 8)  # æœ€å¤š8ä¸ªçº¿ç¨‹

    def start_obfuscation(self, callback: Callable = None,
                         dry_run: bool = False) -> ObfuscationResult:
        """å¼€å§‹æ··æ·†ï¼ˆå¹¶è¡Œå¤„ç†ï¼‰"""
        start_time = time.time()

        try:
            # 1. åˆ†æé¡¹ç›®
            if callback:
                callback(5)
            analyzer = ProjectAnalyzer(self.config.project_path)
            project_structure = analyzer.scan_project()

            # 2. è§£æä»£ç ï¼ˆå¹¶è¡Œï¼‰
            if callback:
                callback(20)
            parsed_files = self._parse_files_parallel(project_structure.source_files)

            # 3. ç”Ÿæˆæ˜ å°„è¡¨
            if callback:
                callback(40)
            mapping = self._generate_mapping(parsed_files)

            # 4. è½¬æ¢ä»£ç ï¼ˆå¹¶è¡Œï¼‰
            if callback:
                callback(60)
            if not dry_run:
                self._transform_files_parallel(project_structure.source_files, mapping)

            # 5. å¤„ç†èµ„æº
            if callback:
                callback(80)
            if not dry_run:
                self._process_resources(project_structure.resource_files, mapping)

            # 6. ç”ŸæˆæŠ¥å‘Š
            if callback:
                callback(100)
            result = self._generate_result(start_time, mapping)

            return result

        except Exception as e:
            return ObfuscationResult(
                success=False,
                message=str(e),
                stats=None,
                mapping_file=None,
                log_file=None
            )

    def _parse_files_parallel(self, source_files: List[SourceFile]) -> List[ParsedFile]:
        """å¹¶è¡Œè§£ææ–‡ä»¶"""
        parser = CodeParser()
        parsed_files = []

        with concurrent.futures.ThreadPoolExecutor(max_workers=self.num_workers) as executor:
            # æäº¤æ‰€æœ‰ä»»åŠ¡
            future_to_file = {
                executor.submit(parser.parse_file, sf.path): sf
                for sf in source_files
            }

            # æ”¶é›†ç»“æœ
            for future in concurrent.futures.as_completed(future_to_file):
                source_file = future_to_file[future]
                try:
                    parsed_file = future.result()
                    parsed_files.append(parsed_file)
                except Exception as e:
                    print(f"è§£ææ–‡ä»¶å¤±è´¥ {source_file.path}: {str(e)}")

        return parsed_files

    def _transform_files_parallel(self, source_files: List[SourceFile],
                                  mapping: NameMapping):
        """å¹¶è¡Œè½¬æ¢æ–‡ä»¶"""
        transformer = CodeTransformer(mapping)

        with concurrent.futures.ThreadPoolExecutor(max_workers=self.num_workers) as executor:
            # æäº¤æ‰€æœ‰ä»»åŠ¡
            future_to_file = {
                executor.submit(transformer.transform_file, sf.path): sf
                for sf in source_files
            }

            # ç­‰å¾…å®Œæˆ
            for future in concurrent.futures.as_completed(future_to_file):
                source_file = future_to_file[future]
                try:
                    future.result()
                except Exception as e:
                    print(f"è½¬æ¢æ–‡ä»¶å¤±è´¥ {source_file.path}: {str(e)}")
```

##### 2.3.2 åˆ†æ‰¹å¤„ç†å¤§å‹é¡¹ç›®

```python
# gui/modules/obfuscation/batch_processor.py
"""
æ‰¹å¤„ç†å™¨
å°†å¤§å‹é¡¹ç›®åˆ†æ‰¹å¤„ç†ä»¥æ§åˆ¶å†…å­˜ä½¿ç”¨
"""

class BatchProcessor:
    """æ‰¹å¤„ç†å™¨"""

    def __init__(self, batch_size: int = 100):
        self.batch_size = batch_size

    def process_in_batches(self, files: List[SourceFile],
                          processor: Callable) -> List[Any]:
        """åˆ†æ‰¹å¤„ç†æ–‡ä»¶"""
        results = []
        total_batches = (len(files) + self.batch_size - 1) // self.batch_size

        for i in range(0, len(files), self.batch_size):
            batch = files[i:i + self.batch_size]
            batch_num = i // self.batch_size + 1

            print(f"å¤„ç†æ‰¹æ¬¡ {batch_num}/{total_batches} ({len(batch)} æ–‡ä»¶)")

            batch_results = processor(batch)
            results.extend(batch_results)

            # æ¸…ç†å†…å­˜
            import gc
            gc.collect()

        return results
```

---

### 2.4 é…ç½®æ¨¡æ¿åº“ ğŸ“‹

#### é—®é¢˜åˆ†æ
ä¸åŒåœºæ™¯éœ€è¦ä¸åŒçš„æ··æ·†é…ç½®ï¼Œåº”æä¾›é¢„è®¾æ¨¡æ¿

#### ä¼˜åŒ–æ–¹æ¡ˆ

åˆ›å»ºé…ç½®æ¨¡æ¿ç›®å½•ï¼š

```
gui/modules/obfuscation/templates/
â”œâ”€â”€ minimal.json              # æœ€å°æ··æ·†ï¼ˆä»…ç±»åå’Œæ–‡ä»¶åï¼‰
â”œâ”€â”€ standard.json             # æ ‡å‡†æ··æ·†ï¼ˆç±»å+æ–¹æ³•å+å±æ€§åï¼‰
â”œâ”€â”€ aggressive.json           # æ¿€è¿›æ··æ·†ï¼ˆæ‰€æœ‰åŠŸèƒ½ï¼‰
â”œâ”€â”€ app_store.json            # åº”ç”¨å•†åº—ç‰ˆæœ¬
â”œâ”€â”€ debug_build.json          # è°ƒè¯•ç‰ˆæœ¬ï¼ˆè¾ƒå°‘æ··æ·†ï¼‰
â””â”€â”€ README.md                 # æ¨¡æ¿è¯´æ˜
```

**minimal.json** - æœ€å°æ··æ·†ï¼š
```json
{
    "description": "æœ€å°æ··æ·† - ä»…æ··æ·†ç±»åå’Œæ–‡ä»¶åï¼Œä¿æŒä»£ç å¯è¯»æ€§",
    "use_case": "é€‚ç”¨äºéœ€è¦ä¿æŒä»£ç å¯è°ƒè¯•æ€§çš„åœºæ™¯",

    "obfuscation": {
        "class_names": true,
        "method_names": false,
        "property_names": false,
        "file_names": true,
        "resource_names": false
    },

    "naming": {
        "strategy": "prefix",
        "prefix": "App_",
        "min_length": 6,
        "max_length": 12
    },

    "garbage_code": {
        "enabled": false
    },

    "string_encryption": {
        "enabled": false
    },

    "cleanup": {
        "remove_comments": false
    }
}
```

**standard.json** - æ ‡å‡†æ··æ·†ï¼š
```json
{
    "description": "æ ‡å‡†æ··æ·† - å¹³è¡¡æ··æ·†å¼ºåº¦å’Œç¼–è¯‘æˆåŠŸç‡",
    "use_case": "é€‚ç”¨äºå¤§å¤šæ•°åº”ç”¨ä¸Šæ¶åœºæ™¯",

    "obfuscation": {
        "class_names": true,
        "method_names": true,
        "property_names": true,
        "file_names": true,
        "resource_names": true
    },

    "naming": {
        "strategy": "random",
        "min_length": 8,
        "max_length": 16
    },

    "garbage_code": {
        "enabled": true,
        "methods_per_class": 3,
        "properties_per_class": 2
    },

    "string_encryption": {
        "enabled": true,
        "algorithm": "base64",
        "exclude_short": true,
        "min_length": 4
    },

    "cleanup": {
        "remove_comments": true,
        "remove_whitespace": false
    }
}
```

**aggressive.json** - æ¿€è¿›æ··æ·†ï¼š
```json
{
    "description": "æ¿€è¿›æ··æ·† - æœ€å¤§æ··æ·†å¼ºåº¦ï¼Œä»£ç å‡ ä¹ä¸å¯è¯»",
    "use_case": "é€‚ç”¨äºä»£ç ä¿æŠ¤è¦æ±‚æé«˜çš„åœºæ™¯",
    "warning": "å¯èƒ½å¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼Œå»ºè®®å……åˆ†æµ‹è¯•",

    "obfuscation": {
        "class_names": true,
        "method_names": true,
        "property_names": true,
        "file_names": true,
        "resource_names": true
    },

    "naming": {
        "strategy": "random",
        "min_length": 12,
        "max_length": 20
    },

    "garbage_code": {
        "enabled": true,
        "methods_per_class": 10,
        "properties_per_class": 5
    },

    "string_encryption": {
        "enabled": true,
        "algorithm": "xor",
        "exclude_short": false,
        "min_length": 1
    },

    "cleanup": {
        "remove_comments": true,
        "remove_whitespace": true
    }
}
```

åœ¨GUIä¸­æ·»åŠ æ¨¡æ¿é€‰æ‹©ï¼š

```python
def create_template_selector(self):
    """åˆ›å»ºæ¨¡æ¿é€‰æ‹©å™¨"""
    template_frame = ttk.LabelFrame(self.root, text="é…ç½®æ¨¡æ¿")

    templates = self.load_templates()
    self.template_var = tk.StringVar(value="standard")

    for template_name, template_info in templates.items():
        rb = ttk.Radiobutton(
            template_frame,
            text=f"{template_name} - {template_info['description']}",
            variable=self.template_var,
            value=template_name,
            command=self.load_template
        )
        rb.pack(anchor=tk.W, padx=5, pady=2)

    template_frame.pack(fill=tk.X, padx=10, pady=5)
```

---

## ä¸‰ã€ä¼˜å…ˆçº§å»ºè®®

åŸºäºå®ç”¨æ€§å’Œå¼€å‘éš¾åº¦ï¼Œå»ºè®®æŒ‰ä»¥ä¸‹ä¼˜å…ˆçº§å®ç°ï¼š

### P0 (å¿…é¡»å®ç°)
1. **å†…ç½®ç³»ç»ŸAPIç™½åå•** - é¿å…ç”¨æˆ·æ‰‹åŠ¨é…ç½®
2. **å›ºå®šæ··æ·†æ”¯æŒ** - æ”¯æŒç‰ˆæœ¬è¿­ä»£
3. **é…ç½®æ¨¡æ¿** - å¿«é€Ÿå¼€å§‹ä½¿ç”¨

### P1 (é‡è¦)
4. **ç¬¬ä¸‰æ–¹åº“æ£€æµ‹** - è‡ªåŠ¨è¯†åˆ«CocoaPods/SPMåº“
5. **å¤šçº¿ç¨‹å¹¶è¡Œå¤„ç†** - æå‡æ€§èƒ½
6. **æ™ºèƒ½ç™½åå•å»ºè®®** - å‡å°‘æ‰‹åŠ¨å·¥ä½œ

### P2 (å¯é€‰)
7. **å¢é‡æ··æ·†** - ä¼˜åŒ–è¿­ä»£æµç¨‹
8. **æ‰¹å¤„ç†å¤§å‹é¡¹ç›®** - å¤„ç†è¶…å¤§é¡¹ç›®
9. **æ˜ å°„è¡¨ç‰ˆæœ¬ç®¡ç†** - é«˜çº§åŠŸèƒ½

---

## å››ã€æ€»ç»“

### 4.1 è®¾è®¡è´¨é‡è¯„åˆ†

| ç»´åº¦ | è¯„åˆ† | è¯´æ˜ |
|------|------|------|
| æ¶æ„è®¾è®¡ | â­â­â­â­â­ | æ¨¡å—åŒ–æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤ |
| åŠŸèƒ½å®Œæ•´æ€§ | â­â­â­â­ | æ ¸å¿ƒåŠŸèƒ½é½å…¨ï¼Œç¼ºå°‘æ™ºèƒ½åŒ– |
| æ˜“ç”¨æ€§ | â­â­â­â­ | GUIå‹å¥½ï¼Œä½†é…ç½®å¤æ‚ |
| å¯æ‰©å±•æ€§ | â­â­â­â­â­ | æ¥å£æ¸…æ™°ï¼Œæ˜“äºæ‰©å±• |
| æ–‡æ¡£è´¨é‡ | â­â­â­â­â­ | è¯¦ç»†å®Œæ•´ï¼Œç¤ºä¾‹ä¸°å¯Œ |
| **æ€»ä½“è¯„åˆ†** | **â­â­â­â­â˜† (4.4/5)** | **ä¼˜ç§€** |

### 4.2 ä¸»è¦æ”¹è¿›ç‚¹

1. âœ… æ·»åŠ å†…ç½®ç³»ç»ŸAPIç™½åå•ï¼ˆ500+ç±»ï¼Œ1000+æ–¹æ³•ï¼‰
2. âœ… å®ç°ç¬¬ä¸‰æ–¹åº“è‡ªåŠ¨æ£€æµ‹ï¼ˆCocoaPods/SPM/Carthageï¼‰
3. âœ… æä¾›æ™ºèƒ½ç™½åå•å»ºè®®åŠŸèƒ½
4. âœ… æ”¯æŒå›ºå®šæ··æ·†ï¼ˆç¡®å®šæ€§ï¼‰å’Œå¢é‡æ··æ·†
5. âœ… ä¼˜åŒ–å¤§å‹é¡¹ç›®å¤„ç†æ€§èƒ½ï¼ˆå¤šçº¿ç¨‹+åˆ†æ‰¹ï¼‰
6. âœ… æä¾›é…ç½®æ¨¡æ¿åº“ï¼ˆminimal/standard/aggressiveï¼‰

### 4.3 å®æ–½å»ºè®®

**ç¬¬ä¸€é˜¶æ®µï¼ˆåŸºç¡€æ¡†æ¶ï¼‰**ï¼š
- æŒ‰åŸè®¡åˆ’å®ç°åŸºç¡€æ¨¡å—
- é›†æˆå†…ç½®ç³»ç»ŸAPIç™½åå•
- æ·»åŠ é…ç½®æ¨¡æ¿æ”¯æŒ

**ç¬¬äºŒé˜¶æ®µï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰**ï¼š
- å®ç°ä»£ç è§£æå’Œè½¬æ¢
- æ·»åŠ å›ºå®šæ··æ·†æ”¯æŒ
- å®ç°å¤šçº¿ç¨‹å¹¶è¡Œå¤„ç†

**ç¬¬ä¸‰é˜¶æ®µï¼ˆæ™ºèƒ½åŒ–ï¼‰**ï¼š
- å®ç°ç¬¬ä¸‰æ–¹åº“æ£€æµ‹
- æ·»åŠ æ™ºèƒ½ç™½åå•å»ºè®®
- å®ç°å¢é‡æ··æ·†

### 4.4 å¯è¡Œæ€§è¯„ä¼°

| åŠŸèƒ½æ¨¡å— | å®ç°éš¾åº¦ | é¢„è®¡æ—¶é—´ | ä¼˜å…ˆçº§ |
|---------|---------|---------|--------|
| åŸºç¡€æ¡†æ¶ | ğŸŸ¢ ç®€å• | 1-2å¤© | P0 |
| ä»£ç è§£æ | ğŸŸ¡ ä¸­ç­‰ | 2-3å¤© | P0 |
| ä»£ç è½¬æ¢ | ğŸŸ¡ ä¸­ç­‰ | 2-3å¤© | P0 |
| ç³»ç»ŸAPIç™½åå• | ğŸŸ¢ ç®€å• | 0.5å¤© | P0 |
| é…ç½®æ¨¡æ¿ | ğŸŸ¢ ç®€å• | 0.5å¤© | P0 |
| å¤šçº¿ç¨‹ä¼˜åŒ– | ğŸŸ¡ ä¸­ç­‰ | 1å¤© | P1 |
| ç¬¬ä¸‰æ–¹åº“æ£€æµ‹ | ğŸŸ¡ ä¸­ç­‰ | 1-2å¤© | P1 |
| æ™ºèƒ½ç™½åå• | ğŸ”´ å¤æ‚ | 2-3å¤© | P1 |
| å¢é‡æ··æ·† | ğŸŸ¡ ä¸­ç­‰ | 1-2å¤© | P2 |

**æ€»è®¡**: çº¦12-18å¤©å¯å®ŒæˆP0+P1åŠŸèƒ½

---

## äº”ã€æœ€ç»ˆç»“è®º

### è®¾è®¡æ–‡æ¡£è¯„ä»·
- âœ… **æ¶æ„åˆç†** - æ¨¡å—åŒ–è®¾è®¡æ¸…æ™°ï¼ŒèŒè´£åˆ†æ˜
- âœ… **åŠŸèƒ½å…¨é¢** - æ¶µç›–æ ¸å¿ƒæ··æ·†éœ€æ±‚
- âœ… **æ–‡æ¡£è¯¦å°½** - æä¾›å®Œæ•´çš„æŠ€æœ¯è¯´æ˜å’Œç¤ºä¾‹
- âš ï¸ **éœ€è¦å¢å¼º** - æ™ºèƒ½åŒ–å’Œæ˜“ç”¨æ€§æ–¹é¢å¯ä»¥æ”¹è¿›

### å»ºè®®
1. **é‡‡çº³æœ¬å®¡æŸ¥æŠ¥å‘Šçš„ä¼˜åŒ–æ–¹æ¡ˆ**ï¼Œç‰¹åˆ«æ˜¯P0å’ŒP1ä¼˜å…ˆçº§çš„æ”¹è¿›
2. **ç¬¬ä¸€é˜¶æ®µå¼€å‘æ—¶åŒæ­¥å®ç°**ï¼šå†…ç½®ç™½åå•ã€é…ç½®æ¨¡æ¿ã€å›ºå®šæ··æ·†
3. **ä¿æŒæ¨¡å—åŒ–æ¶æ„**ï¼Œä¾¿äºåç»­æ·»åŠ æ™ºèƒ½åŒ–åŠŸèƒ½
4. **å……åˆ†æµ‹è¯•**ï¼Œç‰¹åˆ«æ˜¯ä¸åŒç±»å‹é¡¹ç›®çš„å…¼å®¹æ€§

### é£é™©æç¤º
- âš ï¸ ä»£ç è§£æçš„å‡†ç¡®æ€§ç›´æ¥å½±å“æ··æ·†æˆåŠŸç‡
- âš ï¸ ç™½åå•ä¸å®Œæ•´å¯èƒ½å¯¼è‡´ç¼–è¯‘å¤±è´¥
- âš ï¸ å¤§å‹é¡¹ç›®å¯èƒ½éœ€è¦åˆ†æ‰¹å¤„ç†ä»¥æ§åˆ¶å†…å­˜

---

**å®¡æŸ¥å®Œæˆæ—¥æœŸ**: 2025-10-13
**å®¡æŸ¥äºº**: Claude Code
**æ–‡æ¡£çŠ¶æ€**: âœ… é€šè¿‡å®¡æŸ¥ï¼Œå»ºè®®å®æ–½
